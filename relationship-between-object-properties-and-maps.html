<!DOCTYPE html>
<html lang="en">
<head>
        <title>Relationship between Object Properties and Maps</title>
        <meta charset="utf-8" />
        <meta name="viewport" content="width=device-width, initial-scale=1" />
        <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/pure/0.6.0/pure-min.css" />
        <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/pure/0.6.0/grids-responsive-min.css" />
        <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.4.0/css/font-awesome.min.css" />
        <link rel="stylesheet" href="https://chriscz.github.io/theme/css/main.css" />
        <link href="https://chriscz.github.io/feeds/all.atom.xml" type="application/atom+xml" rel="alternate" title="Percipio Full Atom Feed" />
        <link href="https://chriscz.github.io/feeds/programming.atom.xml" type="application/atom+xml" rel="alternate" title="Percipio Categories Atom Feed" />
</head>
<body>

    <div class="main-nav-container">

        <div class="pure-g">
            <div class="pure-u-1 pure-u-lg-2-3">
                <div class="main-nav">
                    <ul class="main-nav-list">
                        <li class="main-nav-item"><a href="https://chriscz.github.io/" class="pure-menu-link">Percipio</a></li>

                        <li class="main-nav-item"><a href="https://chriscz.github.io/category/cooking.html" class="pure-menu-link">Cooking</a></li>
                        <li class="main-nav-item"><a href="https://chriscz.github.io/category/poetry.html" class="pure-menu-link">Poetry</a></li>
                        <li class="main-nav-item active"><a href="https://chriscz.github.io/category/programming.html" class="pure-menu-link">Programming</a></li>
                        <li class="main-nav-item"><a href="https://chriscz.github.io/category/thoughts.html" class="pure-menu-link">Thoughts</a></li>
                    </ul>
                </div>
             </div>

             <div class="pure-u-1 pure-u-lg-1-3"></div>
        </div>

    </div>


<div class="page-container">
    <div class="entry-content">
        <div class="post-meta pure-g">
            <div class="pure-u-3-4 meta-data">
                <a href="https://chriscz.github.io/category/programming.html" class="category">Programming</a><br />

                <a class="author" href="https://chriscz.github.io/author/chris.html">Chris</a>
                &mdash; <abbr title="2016-07-14T13:42:00+02:00">Thu 14 July 2016</abbr>
            </div>
        </div>
    </div>

    <div class="article-header-container">
        <div class="background-image-container">

            <div class="background-image-small">
                <div class="title-container">
                    <h1>Relationship between Object Properties and Maps</h1>
                </div>
            </div>
        </div>
    </div>

    <div class="entry-content">
        <p>While I was programming on my master's project today I realized that a lot of my code had the following structure</p>
<table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre>1
2
3
4
5</pre></div></td><td class="code"><div class="highlight"><pre><span></span><span class="n">cups</span> <span class="o">=</span> <span class="c1"># some list of cups</span>
<span class="n">cup_colour_map</span> <span class="o">=</span> <span class="p">{}</span>
<span class="k">for</span> <span class="n">cup</span> <span class="ow">in</span> <span class="n">cups</span><span class="p">:</span>
    <span class="k">if</span> <span class="n">can_determine_colour</span><span class="p">(</span><span class="n">cup</span><span class="p">):</span>
        <span class="n">cup_colour_map</span><span class="p">[</span><span class="n">cup</span><span class="p">]</span> <span class="o">=</span> <span class="n">determine_cup_colour</span><span class="p">(</span><span class="n">cup</span><span class="p">)</span>
</pre></div>
</td></tr></table>

<p>This, I believe is the most general case. Alternatively you don't check the
predicate and just store the value straight to the map. Note also here that
my Cup object is using it's default implementations of equals and hashcode.</p>
<p>What is interesting here is that I often discover additional properties
which I would like to associate with cups, but then instead of introducing
them into the Cup class, I use the mapping pattern. This quite reminds me
of some AI LISP code I saw a while ago, in these functional languages it
seems that the norm is to have structures that define some cardinal
properties that make each instance unique, and from thereon you can add
additional properties by creating a table for each property.</p>
<p>I doubt that this approach offers any benefit to simply introducing the
property into the applicable class, but it was something interesting that I
noted.</p>
    </div>

    <footer>
        <div class="tags">
            <a href="https://chriscz.github.io/tag/python.html">python</a>
            <a href="https://chriscz.github.io/tag/musing.html">musing</a>
        </div>
        <div class="pure-g post-footer">
            <div class="pure-u-1 pure-u-md-1-2">
                <div class="pure-g poster-info">
                    <div class="pure-u-3-4">
                        <h3 class="author-name"><a href="https://chriscz.github.io/author/chris.html">Chris</a></h3>
                        <p class="author-description">
                        </p>
                    </div>
                </div>
            </div>



        </div>


    </footer>

    <div class="entry-content">
        <div id="disqus_thread"></div>
        <script type="text/javascript">
            var disqus_shortname = 'programmingmushroom';
            (function() {
                var dsq = document.createElement('script'); 
                dsq.type = 'text/javascript'; 
                dsq.async = true;
                dsq.src = 'https://' + disqus_shortname + '.disqus.com/embed.js';
                dsq.setAttribute('data-timestamp', +new Date());
                (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq);
            })();
        </script>
        <noscript>Please enable JavaScript to view the <a href="https://disqus.com/?ref_noscript" rel="nofollow">comments powered by Disqus.</a></noscript>
    </div>

</div>


    <script>
      (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
      (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
      m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
      })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

      ga('create', 'UA-99335273-1', 'auto');
      ga('send', 'pageview');

    </script>
</body>
</html>